
// ç®€å•çš„ Kotlin è„šæœ¬ç”Ÿæˆ gRPCurl å‘½ä»¤
fun generateGrpcurlCommand(
    host: String,
    port: Int,
    service: String,
    method: String,
    protoDir: String,
    requestJson: String
): String {
    return "grpcurl -plaintext -proto ${protoDir} -d '${requestJson}' ${host}:${port} ${service}.${method}"
}

// ç¤ºä¾‹ä½¿ç”¨
val command = generateGrpcurlCommand(
    host = "localhost",
    port = 50051,
    service = "helloworld.Greeter",
    method = "SayHello",
    protoDir = "./proto/hello.proto",
    requestJson = """{"name": "World"}"""
)
println(command)








ã€ŒKotlinã€ã®èª­ã¿æ–¹ã¯ã€Œã‚³ãƒˆãƒªãƒ³ã€ãŒä¸€èˆ¬çš„ã§ã™ã€‚
ã€ŒGradleã€ã®èª­ã¿æ–¹ã¯ã€Œã‚°ãƒ¬ã‚¤ãƒ‰ãƒ«ã€ã§ã™ã€‚
ã€ŒSpring Bootã€ã¯ã€Œã‚¹ãƒ—ãƒªãƒ³ã‚°ãƒ–ãƒ¼ãƒˆã€ã¨èª­ã¿ã¾ã™ã€‚
ã€ŒIntelliJã€ã¯ã€Œã‚¤ãƒ³ãƒ†ãƒªã‚¸ã‚§ã‚¤ã€ã¨èª­ã¿ã¾ã™ã€‚
æ­£å¼åç§°ã¯ã€ŒIntelliJ IDEAï¼ˆã‚¤ãƒ³ãƒ†ãƒªã‚¸ã‚§ã‚¤ ã‚¢ã‚¤ãƒ‡ã‚¢ï¼‰ã€ã§

ã€ŒJavaã€ã®èª­ã¿æ–¹ã¯ã€ä¸»ã«ã€Œã‚¸ãƒ£ãƒã€ã¨èª­ã¿ã¾ã™ã€‚
ã€ŒPythonã€ã®èª­ã¿æ–¹ã¯ã€Œãƒ‘ã‚¤ã‚½ãƒ³ã€ã§ã™ã€‚

ã€Œgrpcurlã€ã¯ã€Œã‚¸ãƒ¼ã‚¢ãƒ¼ãƒ«ãƒ”ãƒ¼ãƒ”ãƒ¼ã‚«ãƒ¼ãƒ«ã€ã¨èª­ã¿ã¾ã™ã€‚
ã“ã‚Œã¯ã€gRPCï¼ˆã‚¸ãƒ¼ã‚¢ãƒ¼ãƒ«ãƒ”ãƒ¼ãƒ”ãƒ¼ï¼‰ã‚µãƒ¼ãƒãƒ¼ã¨
curlï¼ˆã‚«ãƒ¼ãƒ«ï¼‰ãƒ©ã‚¤ã‚¯ãªã‚³ãƒãƒ³ãƒ‰ã§å¯¾è©±ã§ãã‚‹ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚ 

ã€ŒGitHubã€ã®èª­ã¿æ–¹ã¯ã€Œã‚®ãƒƒãƒˆãƒãƒ–ã€ã§ã™ã€‚





mac memo


https://github.com/BruceOuyang/BruceOuyang.github.io/blob/docsify/work/mac/mac%E5%B0%8F%E6%8A%80%E5%B7%A7.md


https://github.com/guidongyuan/zachaxy.github.io/blob/hexo/source/_posts/Mac%E5%BF%AB%E9%80%9F%E4%B8%8A%E6%89%8B.md



åœ¨å¤§å¤šæ•° Linux ç³»ç»Ÿä¸­ï¼ŒDocker æ˜¯é€šè¿‡ç³»ç»ŸæœåŠ¡ï¼ˆsystemdï¼‰ç®¡ç†çš„ã€‚ä»¥ä¸‹æ˜¯å¯åŠ¨ Docker çš„å‘½ä»¤ï¼š

1. å¯åŠ¨ Docker æœåŠ¡

```bash
# ä½¿ç”¨ systemctl å¯åŠ¨ Docker
sudo systemctl start docker

# è®¾ç½® Docker å¼€æœºè‡ªå¯
sudo systemctl enable docker

# æŸ¥çœ‹ Docker æœåŠ¡çŠ¶æ€
sudo systemctl status docker
```

2. é‡å¯ Docker æœåŠ¡

```bash
# é‡å¯ Docker æœåŠ¡
sudo systemctl restart docker

# æˆ–è€…å…ˆåœæ­¢å†å¯åŠ¨
sudo systemctl stop docker
sudo systemctl start docker
```

3. éªŒè¯ Docker æ˜¯å¦æ­£å¸¸è¿è¡Œ

```bash
# æ£€æŸ¥ Docker ç‰ˆæœ¬ï¼ˆéªŒè¯æœåŠ¡æ˜¯å¦è¿è¡Œï¼‰
docker --version

# è¿è¡Œæµ‹è¯•å®¹å™¨
docker run hello-world

# æŸ¥çœ‹ Docker ç³»ç»Ÿä¿¡æ¯
docker info
```

4. å¦‚æœä¸Šè¿°æ–¹æ³•ä¸è¡Œï¼Œå¯ä»¥å°è¯•

```bash
# ä½¿ç”¨ service å‘½ä»¤ï¼ˆè¾ƒè€ç³»ç»Ÿï¼‰
sudo service docker start

# æˆ–è€…ç›´æ¥å¯åŠ¨ dockerd
sudo dockerd
```

5. å¯åŠ¨åä½¿ç”¨ Docker Compose

```bash
# ç°åœ¨å¯ä»¥æ­£å¸¸ä½¿ç”¨ docker compose
docker compose up -d
docker compose ps
docker compose logs
```

6. å¸¸è§é—®é¢˜è§£å†³

æƒé™é—®é¢˜

```bash
# å°†å½“å‰ç”¨æˆ·æ·»åŠ åˆ° docker ç»„
sudo usermod -aG docker $USER

# é‡æ–°ç™»å½•æˆ–æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ä½¿æƒé™ç”Ÿæ•ˆ
newgrp docker
```

ç«¯å£å†²çª

```bash
# æ£€æŸ¥ç«¯å£å ç”¨
sudo netstat -tulpn | grep :2375
```

å­˜å‚¨é—®é¢˜

```bash
# æ¸…ç† Docker å­˜å‚¨
docker system prune
```

7. åœ¨ Windows/macOS ä¸Š

å¯¹äº Docker Desktopï¼š

Â· Windows: ç›´æ¥ç‚¹å‡» Docker Desktop å›¾æ ‡å¯åŠ¨
Â· macOS: åœ¨åº”ç”¨ç¨‹åºä¸­å¯åŠ¨ Docker.app æˆ–è¿è¡Œ open /Applications/Docker.app

ä¸€èˆ¬æ¥è¯´ï¼Œåªè¦ Docker æœåŠ¡è¿è¡Œèµ·æ¥ï¼Œdocker compose å‘½ä»¤å°±å¯ä»¥æ­£å¸¸ä½¿ç”¨äº†ã€‚


æ˜¯çš„ï¼ŒIntelliJ IDEA å¯ä»¥é€šè¿‡å‘½ä»¤è¡Œç•Œé¢ï¼ˆCLIï¼‰è¿›è¡Œæ§åˆ¶ã€‚ä»¥ä¸‹æ˜¯å‡ ç§ä¸»è¦çš„æ–¹å¼ï¼š

1. å¯åŠ¨å’Œé¡¹ç›®ç®¡ç†

æ‰“å¼€é¡¹ç›®/æ–‡ä»¶

```bash
# æ‰“å¼€é¡¹ç›®
idea .                          # å½“å‰ç›®å½•
idea /path/to/project

# æ‰“å¼€ç‰¹å®šæ–‡ä»¶
idea file.java
```

å¸¸ç”¨å¯åŠ¨å‘½ä»¤

```bash
idea --help                    # æŸ¥çœ‹å¸®åŠ©
idea --version                 # æ˜¾ç¤ºç‰ˆæœ¬
idea --temp-project            # åˆ›å»ºä¸´æ—¶é¡¹ç›®
```

2. IDE åŠŸèƒ½æ§åˆ¶

æ ¼å¼åŒ–ä»£ç 

```bash
idea format [options] <file>
```

ä»£ç æ£€æŸ¥

```bash
idea inspect <project-dir> <inspection-profile> <output-dir>
```

3. æ’ä»¶ç®¡ç†

å®‰è£…/å¸è½½æ’ä»¶

```bash
idea install-plugin <plugin-id>
idea uninstall-plugin <plugin-id>
```

åˆ—å‡ºå·²å®‰è£…æ’ä»¶

```bash
idea list-plugins
```

4. é¡¹ç›®ç»“æ„æ“ä½œ

ç”Ÿæˆé¡¹ç›®æ–‡ä»¶

```bash
idea . --ij-profile <profile-name>
```

5. åœ¨ Windows ä¸Šçš„é…ç½®

å¦‚æœ idea å‘½ä»¤ä¸å¯ç”¨ï¼Œéœ€è¦å°† IntelliJ IDEA çš„ bin ç›®å½•æ·»åŠ åˆ° PATH ç¯å¢ƒå˜é‡ä¸­ï¼š

Â· é»˜è®¤è·¯å¾„ï¼šC:\Program Files\JetBrains\IntelliJ IDEA\bin

æˆ–è€…ä½¿ç”¨å®Œæ•´è·¯å¾„ï¼š

```cmd
"C:\Program Files\JetBrains\IntelliJ IDEA\bin\idea64.exe" .
```

6. å®ç”¨åœºæ™¯ç¤ºä¾‹

```bash
# å¿«é€Ÿæ‰“å¼€é¡¹ç›®å¹¶æ ¼å¼åŒ–æ–‡ä»¶
idea .
idea format -s project-style.xml src/main/java/Main.java

# æ‰¹é‡ä»£ç æ£€æŸ¥
idea inspect . my-inspection-profile.xml inspection-results/
```

æ³¨æ„äº‹é¡¹

1. é¦–æ¬¡ä½¿ç”¨å¯èƒ½éœ€è¦å…ˆé€šè¿‡ GUI æ‰“å¼€ä¸€æ¬¡ IDEA æ¥åˆå§‹åŒ–é…ç½®
2. è·¯å¾„åŒ…å«ç©ºæ ¼æ—¶éœ€è¦åŠ å¼•å·
3. æŸäº›åŠŸèƒ½å¯èƒ½éœ€è¦ç‰¹å®šç‰ˆæœ¬çš„ IDEA æˆ–å®‰è£…ç›¸åº”æ’ä»¶

å»ºè®®å…ˆè¿è¡Œ idea --help æŸ¥çœ‹ä½ å½“å‰ç‰ˆæœ¬æ”¯æŒçš„æ‰€æœ‰å‘½ä»¤é€‰é¡¹ã€‚

è¿™é‡Œæ•´ç†äº†ä¸€ä»½å…¨é¢çš„ Gradle å‘½ä»¤å¤§å…¨ï¼Œæ¶µç›–äº†æ—¥å¸¸å¼€å‘ä¸­æœ€å¸¸ç”¨çš„å‘½ä»¤å’Œç”¨æ³•ï¼š

ğŸ”§ åŸºç¡€å‘½ä»¤

é¡¹ç›®ä¿¡æ¯å‘½ä»¤

```bash
# æŸ¥çœ‹é¡¹ç›®ä¿¡æ¯
gradle projects                    # åˆ—å‡ºæ‰€æœ‰å­é¡¹ç›®
gradle tasks                       # æŸ¥çœ‹æ‰€æœ‰å¯ç”¨ä»»åŠ¡
gradle tasks --all                 # æŸ¥çœ‹æ‰€æœ‰ä»»åŠ¡ï¼ˆåŒ…æ‹¬è¯¦ç»†æè¿°ï¼‰
gradle dependencies                # æŸ¥çœ‹é¡¹ç›®ä¾èµ–
gradle dependencies --configuration <config> # æŸ¥çœ‹ç‰¹å®šé…ç½®çš„ä¾èµ–
```

æ„å»ºå‘½ä»¤

```bash
# åŸºæœ¬æ„å»º
gradle build                       # æ‰§è¡Œå®Œæ•´æ„å»ºï¼ˆç¼–è¯‘ã€æµ‹è¯•ã€æ‰“åŒ…ï¼‰
gradle clean                       # æ¸…ç†æ„å»ºè¾“å‡º
gradle clean build                 # æ¸…ç†åé‡æ–°æ„å»º
gradle assemble                    # ç¼–è¯‘å’Œæ‰“åŒ…ï¼Œä½†ä¸è¿è¡Œæµ‹è¯•
gradle compileJava                 # ä»…ç¼–è¯‘ Java ä»£ç 
gradle classes                     # ç¼–è¯‘æ‰€æœ‰ç±»æ–‡ä»¶
```

ğŸ“¦ æµ‹è¯•ç›¸å…³å‘½ä»¤

```bash
# æµ‹è¯•å‘½ä»¤
gradle test                        # è¿è¡Œæ‰€æœ‰æµ‹è¯•
gradle test --tests "TestClass"    # è¿è¡Œç‰¹å®šæµ‹è¯•ç±»
gradle test --tests "TestClass.method" # è¿è¡Œç‰¹å®šæµ‹è¯•æ–¹æ³•
gradle test --tests "*Test"        # è¿è¡Œæ‰€æœ‰ä»¥ Test ç»“å°¾çš„æµ‹è¯•ç±»
gradle test --continue             # å³ä½¿æµ‹è¯•å¤±è´¥ä¹Ÿç»§ç»­æ‰§è¡Œ
gradle test -i                     # æ˜¾ç¤ºæµ‹è¯•çš„è¯¦ç»†ä¿¡æ¯

# æµ‹è¯•æŠ¥å‘Š
gradle testReport                  # ç”Ÿæˆæµ‹è¯•æŠ¥å‘Š
```

ğŸ” è°ƒè¯•å’Œæ’æŸ¥å‘½ä»¤

```bash
# è°ƒè¯•ä¿¡æ¯
gradle --version                   # æŸ¥çœ‹ Gradle ç‰ˆæœ¬
gradle --status                    # æŸ¥çœ‹ Gradle Daemon çŠ¶æ€
gradle --stop                      # åœæ­¢æ‰€æœ‰ Gradle Daemon
gradle --help                      # æŸ¥çœ‹å¸®åŠ©ä¿¡æ¯

# è¯¦ç»†è¾“å‡º
gradle --info                      # ä¿¡æ¯çº§åˆ«æ—¥å¿—
gradle --debug                     # è°ƒè¯•çº§åˆ«æ—¥å¿—
gradle --stacktrace                # æ˜¾ç¤ºå †æ ˆè·Ÿè¸ª
gradle --full-stacktrace           # æ˜¾ç¤ºå®Œæ•´å †æ ˆè·Ÿè¸ª
gradle --scan                      # ç”Ÿæˆæ„å»ºæ‰«ææŠ¥å‘Š
```

ğŸ¯ ä»»åŠ¡æ‰§è¡Œå‘½ä»¤

```bash
# ä»»åŠ¡æ‰§è¡Œ
gradle <taskName>                  # æ‰§è¡Œç‰¹å®šä»»åŠ¡
gradle :subproject:task            # æ‰§è¡Œå­é¡¹ç›®çš„ä»»åŠ¡
gradle task1 task2                 # æ‰§è¡Œå¤šä¸ªä»»åŠ¡
gradle -q <task>                   # å®‰é™æ¨¡å¼ï¼ˆåªè¾“å‡ºé”™è¯¯ï¼‰
gradle -x test build               # æ’é™¤ç‰¹å®šä»»åŠ¡ï¼ˆä¸è¿è¡Œæµ‹è¯•ï¼‰

# ä»»åŠ¡ä¿¡æ¯
gradle help --task <taskName>      # æŸ¥çœ‹ç‰¹å®šä»»åŠ¡çš„å¸®åŠ©
gradle properties                  # æŸ¥çœ‹é¡¹ç›®å±æ€§
```

ğŸ“š ä¾èµ–ç®¡ç†å‘½ä»¤

```bash
# ä¾èµ–ç®¡ç†
gradle dependencies                # æŸ¥çœ‹ä¾èµ–æ ‘
gradle dependencyInsight --dependency <name> --configuration <config>
gradle androidDependencies         # Android é¡¹ç›®æŸ¥çœ‹ä¾èµ–
gradle dependencies --scan         # ç”Ÿæˆä¾èµ–æ‰«ææŠ¥å‘Š

# ä¾èµ–æ›´æ–°
gradle dependencyUpdates           # æ£€æŸ¥ä¾èµ–æ›´æ–°ï¼ˆéœ€è¦æ’ä»¶ï¼‰
```

ğŸš€ Android é¡¹ç›®ä¸“ç”¨å‘½ä»¤

```bash
# Android æ„å»º
gradle assembleDebug               # æ„å»º Debug APK
gradle assembleRelease             # æ„å»º Release APK
gradle installDebug                # å®‰è£… Debug ç‰ˆæœ¬
gradle uninstallDebug              # å¸è½½ Debug ç‰ˆæœ¬

# Android æµ‹è¯•
gradle connectedAndroidTest        # åœ¨è¿æ¥çš„è®¾å¤‡ä¸Šè¿è¡Œæµ‹è¯•
gradle lint                        # è¿è¡Œä»£ç æ£€æŸ¥
```

âš¡ æ€§èƒ½ä¼˜åŒ–å‘½ä»¤

```bash
# æ€§èƒ½ç›¸å…³
gradle --profile                   # ç”Ÿæˆæ€§èƒ½åˆ†ææŠ¥å‘Š
gradle --dry-run                   # æ¨¡æ‹Ÿè¿è¡Œï¼ˆä¸å®é™…æ‰§è¡Œä»»åŠ¡ï¼‰
gradle --no-daemon                 # ä¸ä½¿ç”¨ Daemon
gradle --parallel                  # å¹¶è¡Œæ‰§è¡Œä»»åŠ¡
gradle --build-cache               # å¯ç”¨æ„å»ºç¼“å­˜
gradle --configure-on-demand       # æŒ‰éœ€é…ç½®
```

ğŸ”„ åŒ…è£…å™¨å‘½ä»¤

```bash
# Gradle Wrapper
gradle wrapper                     # ç”Ÿæˆ wrapper æ–‡ä»¶
gradle wrapper --gradle-version 8.5 # æŒ‡å®š Gradle ç‰ˆæœ¬
./gradlew <command>                # ä½¿ç”¨ wrapper æ‰§è¡Œå‘½ä»¤ï¼ˆæ¨èï¼‰
```

ğŸ› ï¸ å®ç”¨æŠ€å·§

1. æ¡ä»¶æ‰§è¡Œ

```bash
# åªåœ¨æœ‰å˜åŒ–æ—¶æ‰§è¡Œ
gradle build --rerun-tasks

# ç¦»çº¿æ¨¡å¼ï¼ˆä½¿ç”¨ç¼“å­˜ï¼‰
gradle build --offline
```

2. å±æ€§é…ç½®

```bash
# è®¾ç½®å±æ€§
gradle build -PmyProperty=value    # é¡¹ç›®å±æ€§
gradle build -DsystemProp=value    # ç³»ç»Ÿå±æ€§
gradle build -x test               # æ’é™¤ä»»åŠ¡
```

3. æ„å»ºæ‰«æ

```bash
# ç”Ÿæˆè¯¦ç»†çš„æ„å»ºåˆ†ææŠ¥å‘Š
gradle build --scan
```

ğŸ“ å¸¸ç”¨å‘½ä»¤ç»„åˆ

```bash
# å¼€å‘å¸¸ç”¨ç»„åˆ
./gradlew clean build              # æ¸…ç†å¹¶é‡æ–°æ„å»º
./gradlew clean test               # æ¸…ç†å¹¶è¿è¡Œæµ‹è¯•
./gradlew assembleDebug --parallel # å¹¶è¡Œæ„å»º Debug ç‰ˆæœ¬
./gradlew build -x test            # æ„å»ºä½†ä¸è¿è¡Œæµ‹è¯•

# CI/CD å¸¸ç”¨
./gradlew clean build --scan       # æ¸…ç†æ„å»ºå¹¶ç”Ÿæˆæ‰«ææŠ¥å‘Š
./gradlew test --continue          # è¿è¡Œæµ‹è¯•ï¼ˆå¤±è´¥ä¹Ÿç»§ç»­ï¼‰
```

ğŸ’¡ ä½¿ç”¨å»ºè®®

1. ä¼˜å…ˆä½¿ç”¨ ./gradlewï¼ˆWrapperï¼‰è€Œä¸æ˜¯å…¨å±€ gradle å‘½ä»¤
2. ä½¿ç”¨ Daemon æé«˜æ„å»ºé€Ÿåº¦ï¼ˆé»˜è®¤å¯ç”¨ï¼‰
3. åˆç†ä½¿ç”¨ç¼“å­˜ å’Œå¹¶è¡Œæ‰§è¡Œ
4. å®šæœŸä½¿ç”¨ --scan åˆ†ææ„å»ºæ€§èƒ½
5. ä½¿ç”¨ --continue åœ¨ CI ç¯å¢ƒä¸­å³ä½¿éƒ¨åˆ†å¤±è´¥ä¹Ÿç»§ç»­æ‰§è¡Œ

è¿™ä»½å‘½ä»¤å¤§å…¨æ¶µç›–äº† Gradle çš„ä¸»è¦ä½¿ç”¨åœºæ™¯ï¼Œå»ºè®®æ ¹æ®å®é™…éœ€æ±‚é€‰æ‹©åˆé€‚çš„å‘½ä»¤ç»„åˆã€‚


è¿™é‡Œæ•´ç†äº†ä¸€ä»½å…¨é¢çš„ Docker å‘½ä»¤å¤§å…¨ï¼Œæ¶µç›–äº†ä»åŸºç¡€åˆ°é«˜çº§çš„å¸¸ç”¨å‘½ä»¤ï¼š

ğŸ³ å®¹å™¨ç”Ÿå‘½å‘¨æœŸç®¡ç†

å®¹å™¨æ“ä½œ

```bash
# è¿è¡Œå®¹å™¨
docker run <image>                          # è¿è¡Œé•œåƒ
docker run -d <image>                       # åå°è¿è¡Œ
docker run -it <image> /bin/bash            # äº¤äº’å¼è¿è¡Œ
docker run -p 8080:80 <image>               # ç«¯å£æ˜ å°„
docker run -v /host/path:/container/path <image> # å·æŒ‚è½½
docker run --name mycontainer <image>       # æŒ‡å®šå®¹å™¨åç§°

# å®¹å™¨ç®¡ç†
docker start <container>                    # å¯åŠ¨å®¹å™¨
docker stop <container>                     # åœæ­¢å®¹å™¨
docker restart <container>                  # é‡å¯å®¹å™¨
docker pause <container>                    # æš‚åœå®¹å™¨
docker unpause <container>                  # æ¢å¤å®¹å™¨
docker kill <container>                     # å¼ºåˆ¶åœæ­¢å®¹å™¨
docker rm <container>                       # åˆ é™¤å®¹å™¨
docker rm -f <container>                    # å¼ºåˆ¶åˆ é™¤è¿è¡Œä¸­çš„å®¹å™¨
```

å®¹å™¨ä¿¡æ¯æŸ¥çœ‹

```bash
docker ps                                   # æŸ¥çœ‹è¿è¡Œä¸­çš„å®¹å™¨
docker ps -a                                # æŸ¥çœ‹æ‰€æœ‰å®¹å™¨
docker ps -l                                # æŸ¥çœ‹æœ€è¿‘åˆ›å»ºçš„å®¹å™¨
docker ps -q                                # åªæ˜¾ç¤ºå®¹å™¨ID
docker logs <container>                     # æŸ¥çœ‹å®¹å™¨æ—¥å¿—
docker logs -f <container>                  # å®æ—¶æŸ¥çœ‹æ—¥å¿—
docker logs --tail 100 <container>          # æŸ¥çœ‹æœ€å100è¡Œæ—¥å¿—
docker inspect <container>                  # æŸ¥çœ‹å®¹å™¨è¯¦ç»†ä¿¡æ¯
docker stats <container>                    # æŸ¥çœ‹å®¹å™¨èµ„æºä½¿ç”¨æƒ…å†µ
docker top <container>                      # æŸ¥çœ‹å®¹å™¨å†…è¿›ç¨‹
```

ğŸ“¦ é•œåƒç®¡ç†

é•œåƒæ“ä½œ

```bash
# é•œåƒæŸ¥æ‰¾å’Œæ‹‰å–
docker search <term>                        # æœç´¢é•œåƒ
docker pull <image>                         # æ‹‰å–é•œåƒ
docker pull <image>:<tag>                   # æ‹‰å–æŒ‡å®šæ ‡ç­¾çš„é•œåƒ

# é•œåƒç®¡ç†
docker images                               # åˆ—å‡ºæœ¬åœ°é•œåƒ
docker rmi <image>                          # åˆ é™¤é•œåƒ
docker rmi -f <image>                       # å¼ºåˆ¶åˆ é™¤é•œåƒ
docker image prune                          # åˆ é™¤æœªä½¿ç”¨çš„é•œåƒ
docker history <image>                      # æŸ¥çœ‹é•œåƒå†å²
docker tag <image> newname:tag              # ç»™é•œåƒæ‰“æ ‡ç­¾
```

é•œåƒæ„å»º

```bash
docker build .                              # æ„å»ºé•œåƒ
docker build -t myimage:tag .               # æ„å»ºå¹¶æ‰“æ ‡ç­¾
docker build -f Dockerfile.dev .            # æŒ‡å®š Dockerfile
docker build --no-cache .                   # ä¸ä½¿ç”¨ç¼“å­˜æ„å»º
```

ğŸ”„ å®¹å™¨ä¸ä¸»æœºäº¤äº’

æ‰§è¡Œå‘½ä»¤

```bash
docker exec -it <container> /bin/bash       # è¿›å…¥å®¹å™¨
docker exec <container> <command>           # åœ¨å®¹å™¨ä¸­æ‰§è¡Œå‘½ä»¤
docker exec -u root <container> /bin/bash   # ä»¥rootç”¨æˆ·è¿›å…¥
```

æ–‡ä»¶æ“ä½œ

```bash
docker cp <container>:<path> <host_path>    # ä»å®¹å™¨å¤åˆ¶æ–‡ä»¶åˆ°ä¸»æœº
docker cp <host_path> <container>:<path>    # ä»ä¸»æœºå¤åˆ¶æ–‡ä»¶åˆ°å®¹å™¨
```

ğŸŒ ç½‘ç»œç®¡ç†

ç½‘ç»œæ“ä½œ

```bash
docker network ls                           # åˆ—å‡ºç½‘ç»œ
docker network create <network_name>        # åˆ›å»ºç½‘ç»œ
docker network rm <network_name>            # åˆ é™¤ç½‘ç»œ
docker network inspect <network_name>       # æŸ¥çœ‹ç½‘ç»œè¯¦æƒ…

# å®¹å™¨ç½‘ç»œ
docker run --network=<network> <image>      # æŒ‡å®šç½‘ç»œè¿è¡Œå®¹å™¨
docker network connect <network> <container> # è¿æ¥å®¹å™¨åˆ°ç½‘ç»œ
docker network disconnect <network> <container> # æ–­å¼€å®¹å™¨ç½‘ç»œ
```

ç«¯å£ç®¡ç†

```bash
docker port <container>                     # æŸ¥çœ‹å®¹å™¨ç«¯å£æ˜ å°„
```

ğŸ’¾ æ•°æ®å·ç®¡ç†

å·æ“ä½œ

```bash
docker volume ls                            # åˆ—å‡ºå·
docker volume create <volume_name>          # åˆ›å»ºå·
docker volume rm <volume_name>              # åˆ é™¤å·
docker volume inspect <volume_name>         # æŸ¥çœ‹å·è¯¦æƒ…
docker volume prune                         # åˆ é™¤æœªä½¿ç”¨çš„å·
```

å·ä½¿ç”¨

```bash
docker run -v /data <image>                 # åˆ›å»ºåŒ¿åå·
docker run -v volume_name:/data <image>     # ä½¿ç”¨å‘½åå·
docker run -v /host/path:/container/path <image> # ç»‘å®šæŒ‚è½½
```

ğŸ› ï¸ ç³»ç»Ÿç®¡ç†

Docker ç³»ç»Ÿä¿¡æ¯

```bash
docker info                                 # æ˜¾ç¤º Docker ç³»ç»Ÿä¿¡æ¯
docker version                              # æ˜¾ç¤º Docker ç‰ˆæœ¬ä¿¡æ¯
docker system df                            # æŸ¥çœ‹ç£ç›˜ä½¿ç”¨æƒ…å†µ
docker system prune                         # æ¸…ç†æœªä½¿ç”¨çš„æ•°æ®
docker system prune -a                      # æ¸…ç†æ‰€æœ‰æœªä½¿ç”¨çš„æ•°æ®
```

äº‹ä»¶å’Œç›‘æ§

```bash
docker events                               # æŸ¥çœ‹ Docker äº‹ä»¶
docker stats                                # æŸ¥çœ‹æ‰€æœ‰å®¹å™¨èµ„æºä½¿ç”¨
```

ğŸš€ å®ç”¨å‘½ä»¤ç»„åˆ

å¼€å‘å¸¸ç”¨

```bash
# å¼€å‘ç¯å¢ƒå¿«é€Ÿå¯åŠ¨
docker run -d -p 80:80 --name webserver nginx
docker run -d -p 3306:3306 -e MYSQL_ROOT_PASSWORD=pass --name mysql mysql:8.0

# è¿›å…¥å®¹å™¨è°ƒè¯•
docker exec -it webserver /bin/bash
docker exec -it mysql mysql -uroot -p

# æŸ¥çœ‹æ—¥å¿—
docker logs -f webserver
```

æ¸…ç†å’Œç»´æŠ¤

```bash
# åœæ­¢æ‰€æœ‰å®¹å™¨
docker stop $(docker ps -aq)

# åˆ é™¤æ‰€æœ‰å®¹å™¨
docker rm $(docker ps -aq)

# åˆ é™¤æ‰€æœ‰é•œåƒ
docker rmi $(docker images -q)

# ç³»ç»Ÿæ¸…ç†
docker system prune -a -f
```

ğŸ”§ Docker Compose å¸¸ç”¨å‘½ä»¤

```bash
docker-compose up                          # å¯åŠ¨æœåŠ¡
docker-compose up -d                       # åå°å¯åŠ¨æœåŠ¡
docker-compose down                        # åœæ­¢æœåŠ¡
docker-compose ps                          # æŸ¥çœ‹æœåŠ¡çŠ¶æ€
docker-compose logs                        # æŸ¥çœ‹æœåŠ¡æ—¥å¿—
docker-compose logs -f                     # å®æ—¶æŸ¥çœ‹æ—¥å¿—
docker-compose build                       # æ„å»ºé•œåƒ
docker-compose exec <service> <command>    # åœ¨æœåŠ¡ä¸­æ‰§è¡Œå‘½ä»¤
docker-compose restart                     # é‡å¯æœåŠ¡
docker-compose pull                        # æ‹‰å–é•œåƒ
```

âš¡ é«˜çº§åŠŸèƒ½

å®¹å™¨èµ„æºé™åˆ¶

```bash
docker run -m 512m <image>                 # å†…å­˜é™åˆ¶
docker run --cpus=1.5 <image>              # CPUé™åˆ¶
docker run --memory-swap=1g <image>        # å†…å­˜+äº¤æ¢åˆ†åŒºé™åˆ¶
```

ç¯å¢ƒå˜é‡

```bash
docker run -e VAR=value <image>            # è®¾ç½®ç¯å¢ƒå˜é‡
docker run --env-file .env <image>         # ä»æ–‡ä»¶è¯»å–ç¯å¢ƒå˜é‡
```

ğŸ“ å®ç”¨æŠ€å·§

1. æ‰¹é‡æ“ä½œ

```bash
# æ‰¹é‡åœæ­¢å’Œåˆ é™¤
docker stop $(docker ps -q)
docker rm $(docker ps -aq)

# æ‰¹é‡åˆ é™¤é•œåƒ
docker rmi $(docker images -q)
```

2. è°ƒè¯•æŠ€å·§

```bash
# æŸ¥çœ‹å®¹å™¨è¯¦ç»†ä¿¡æ¯
docker inspect <container> | grep IPAddress

# æŸ¥çœ‹å®¹å™¨èµ„æºä½¿ç”¨
docker stats --no-stream

# å¯¼å‡ºå¯¼å…¥å®¹å™¨
docker export <container> > container.tar
docker import container.tar newimage:tag
```

3. æ—¥å¿—ç®¡ç†

```bash
# æ—¥å¿—é©±åŠ¨é€‰é¡¹
docker run --log-driver=json-file --log-opt max-size=10m <image>
```

ğŸ¯ å¸¸ç”¨åœºæ™¯ç¤ºä¾‹

Web åº”ç”¨éƒ¨ç½²

```bash
# è¿è¡Œ Nginx
docker run -d -p 80:80 -v /html:/usr/share/nginx/html nginx

# è¿è¡Œ Node.js åº”ç”¨
docker run -d -p 3000:3000 -v $(pwd):/app node:14 node /app/app.js
```

æ•°æ®åº“æœåŠ¡

```bash
# MySQL
docker run -d -p 3306:3306 -e MYSQL_ROOT_PASSWORD=pass -v mysql_data:/var/lib/mysql mysql:8.0

# Redis
docker run -d -p 6379:6379 -v redis_data:/data redis:6.0
```

è¿™ä»½å‘½ä»¤å¤§å…¨æ¶µç›–äº† Docker çš„ä¸»è¦ä½¿ç”¨åœºæ™¯ï¼Œå»ºè®®æ ¹æ®å®é™…éœ€æ±‚é€‰æ‹©åˆé€‚çš„å‘½ä»¤ç»„åˆã€‚è®°ä½åœ¨ä½¿ç”¨åˆ é™¤å‘½ä»¤æ—¶è¦ç‰¹åˆ«å°å¿ƒï¼Œé¿å…è¯¯åˆ é‡è¦æ•°æ®ï¼


è¿™é‡Œæ•´ç†äº†ä¸€ä»½å…¨é¢çš„ Kotlin ç¼–è¯‘å™¨ (kotlinc) å‘½ä»¤å¤§å…¨ï¼Œæ¶µç›–äº†ä»åŸºç¡€åˆ°é«˜çº§çš„å¸¸ç”¨å‘½ä»¤ï¼š

ğŸš€ åŸºæœ¬ç¼–è¯‘å‘½ä»¤

ç®€å•ç¼–è¯‘

```bash
# ç¼–è¯‘ Kotlin æ–‡ä»¶
kotlinc hello.kt                          # ç¼–è¯‘ä¸º .class æ–‡ä»¶
kotlinc hello.kt -d hello.jar             # ç¼–è¯‘ä¸º JAR æ–‡ä»¶
kotlinc hello.kt -include-runtime -d hello.jar # åŒ…å«è¿è¡Œæ—¶åº“çš„ç‹¬ç«‹ JAR

# ç¼–è¯‘å¤šä¸ªæ–‡ä»¶
kotlinc file1.kt file2.kt -d output.jar
kotlinc *.kt -d app.jar                   # ç¼–è¯‘æ‰€æœ‰ .kt æ–‡ä»¶
```

è¾“å‡ºæ§åˆ¶

```bash
kotlinc -d classes/ src/*.kt              # æŒ‡å®šè¾“å‡ºç›®å½•
kotlinc -d app.jar -jvm-target 11 src/*.kt # æŒ‡å®š JVM ç›®æ ‡ç‰ˆæœ¬
```

ğŸ“¦ ä¾èµ–ç®¡ç†

Classpath é…ç½®

```bash
# æ·»åŠ ä¾èµ–
kotlinc -cp lib.jar main.kt -d app.jar    # æ·»åŠ  classpath
kotlinc -classpath lib1.jar:lib2.jar main.kt

# ä½¿ç”¨ Maven ä¾èµ–
kotlinc -cp ~/.m2/repository/junit/junit/4.13.2/junit-4.13.2.jar Test.kt
```

æ¨¡å—åŒ–ç¼–è¯‘

```bash
# ç¼–è¯‘æ¨¡å—
kotlinc -module-name mymodule src/*.kt -d mymodule.jar
```

ğŸ¯ ç¼–è¯‘é€‰é¡¹

è¯­è¨€ç‰¹æ€§

```bash
# è¯­è¨€ç‰ˆæœ¬
kotlinc -language-version 1.9 src/*.kt    # æŒ‡å®šè¯­è¨€ç‰ˆæœ¬
kotlinc -api-version 1.9 src/*.kt         # æŒ‡å®š API ç‰ˆæœ¬

# å¯ç”¨å®éªŒæ€§åŠŸèƒ½
kotlinc -Xopt-in=kotlin.RequiresOptIn src/*.kt
```

ä»£ç ç”Ÿæˆé€‰é¡¹

```bash
# JVM ç›®æ ‡ç‰ˆæœ¬
kotlinc -jvm-target 1.8 src/*.kt          # ç”Ÿæˆ Java 8 å­—èŠ‚ç 
kotlinc -jvm-target 11 src/*.kt           # ç”Ÿæˆ Java 11 å­—èŠ‚ç 

# å…¶ä»–ä»£ç ç”Ÿæˆé€‰é¡¹
kotlinc -no-stdlib src/*.kt               # ä¸ä½¿ç”¨æ ‡å‡†åº“
kotlinc -no-reflect src/*.kt              # ä¸ä½¿ç”¨åå°„åº“
kotlinc -Xuse-ir src/*.kt                 # ä½¿ç”¨æ–° IR åç«¯
```

ğŸ”§ é«˜çº§ç¼–è¯‘é€‰é¡¹

ç¼–è¯‘å™¨è¡Œä¸º

```bash
# ç¼–è¯‘æ¨¡å¼
kotlinc -version                          # æ˜¾ç¤ºç¼–è¯‘å™¨ç‰ˆæœ¬
kotlinc -help                             # æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯
kotlinc -verbose src/*.kt                 # è¯¦ç»†è¾“å‡º

# è­¦å‘Šå’Œé”™è¯¯
kotlinc -Werror src/*.kt                  # å°†è­¦å‘Šè§†ä¸ºé”™è¯¯
kotlinc -nowarn src/*.kt                  # ç¦ç”¨è­¦å‘Š
kotlinc -XXLanguage:+BreakContinueSupport src/*.kt # å¯ç”¨ç‰¹å®šåŠŸèƒ½
```

ä¼˜åŒ–é€‰é¡¹

```bash
kotlinc -opt-in=kotlin.ExperimentalStdlibApi src/*.kt
kotlinc -Xmulti-platform src/*.kt         # å¤šå¹³å°é¡¹ç›®
kotlinc -Xuse-experimental=kotlin.Experimental src/*.kt
```

ğŸ“ REPL äº¤äº’å¼ç¯å¢ƒ

ä½¿ç”¨ Kotlin REPL

```bash
kotlinc -help                              # æŸ¥çœ‹ REPL å¸®åŠ©
kotlinc                                   # å¯åŠ¨ REPL

# REPL å†…éƒ¨å‘½ä»¤
:help                                     # æ˜¾ç¤º REPL å‘½ä»¤å¸®åŠ©
:quit                                     # é€€å‡º REPL
:load script.kt                           # åŠ è½½ Kotlin è„šæœ¬
:type expr                                # æŸ¥çœ‹è¡¨è¾¾å¼ç±»å‹
:import java.util.*                       # å¯¼å…¥åŒ…
```

REPL ç¤ºä¾‹

```bash
$ kotlinc
Welcome to Kotlin version 1.9.0
Type :help for help, :quit for quit
>>> val name = "Kotlin"
>>> println("Hello, $name!")
Hello, Kotlin!
>>> :quit
```

ğŸ› ï¸ è„šæœ¬ç¼–è¯‘å’Œæ‰§è¡Œ

Kotlin è„šæœ¬

```bash
# ç¼–è¯‘å’Œæ‰§è¡Œè„šæœ¬
kotlinc -script hello.kts                 # æ‰§è¡Œ Kotlin è„šæœ¬
kotlinc -script --main hello.kts arg1 arg2 # å¸¦å‚æ•°æ‰§è¡Œè„šæœ¬

# è‡ªå®šä¹‰è„šæœ¬å®šä¹‰
kotlinc -script -Xplugin=kotlin-main-kts myfile.main.kts
```

ç¤ºä¾‹è„šæœ¬æ–‡ä»¶

```kotlin
#!/usr/bin/env kotlin

@file:DependsOn("com.google.guava:guava:31.0.1-jre")

import com.google.common.collect.ImmutableList

val list = ImmutableList.of("Hello", "World")
println(list)
```

ğŸ“š æ ‡å‡†åº“å’Œåå°„

åº“åŒ…å«é€‰é¡¹

```bash
# æ ‡å‡†åº“æ§åˆ¶
kotlinc -no-stdlib hello.kt               # ä¸åŒ…å«æ ‡å‡†åº“
kotlinc -no-reflect hello.kt              # ä¸åŒ…å«åå°„åº“

# åŒ…å«è¿è¡Œæ—¶
kotlinc -include-runtime -d app.jar src/*.kt
```

ğŸ” è¯Šæ–­å’Œè°ƒè¯•

ç¼–è¯‘å™¨è¯Šæ–­

```bash
kotlinc -Xdump-declarations-to=file.json src/*.kt
kotlinc -Xreport-perf src/*.kt            # æ€§èƒ½æŠ¥å‘Š
kotlinc -Xdebug src/*.kt                  # è°ƒè¯•æ¨¡å¼
```

å…ƒæ•°æ®ç”Ÿæˆ

```bash
kotlinc -Xgenerate-methods-for-delegated-properties src/*.kt
kotlinc -Xjvm-default=all src/*.kt        # JVM é»˜è®¤æ–¹æ³•ç”Ÿæˆ
```

ğŸŒ å¤šå¹³å°é¡¹ç›®

é€šç”¨ç¼–è¯‘

```bash
kotlinc -platform common src/common/*.kt  # ç¼–è¯‘é€šç”¨ä»£ç 
kotlinc -platform jvm src/jvm/*.kt        # ç¼–è¯‘ JVM ç›®æ ‡
kotlinc -platform js src/js/*.kt          # ç¼–è¯‘ JS ç›®æ ‡
```

âš¡ å®ç”¨å‘½ä»¤ç»„åˆ

å¼€å‘å·¥ä½œæµ

```bash
# å¿«é€Ÿç¼–è¯‘å’Œè¿è¡Œ
kotlinc main.kt -include-runtime -d app.jar && java -jar app.jar

# å¸¦ä¾èµ–ç¼–è¯‘
kotlinc -cp libs/*.jar src/*.kt -d myapp.jar

# å¢é‡ç¼–è¯‘ï¼ˆä½¿ç”¨æ„å»ºå·¥å…·æ›´å¥½ï¼‰
find src -name "*.kt" | xargs kotlinc -d out/
```

é¡¹ç›®ç¤ºä¾‹

```bash
# å…¸å‹é¡¹ç›®ç»“æ„ç¼–è¯‘
kotlinc \
  -cp libs/dependency.jar \
  src/main/kotlin/**/*.kt \
  -d build/myapp.jar

# å¯ç”¨æ‰€æœ‰å®éªŒæ€§åŠŸèƒ½
kotlinc \
  -Xuse-experimental=kotlin.Experimental \
  -Xuse-experimental=kotlin.ExperimentalStdlibApi \
  src/*.kt -d app.jar
```

ğŸ“‹ å¸¸ç”¨ç¼–è¯‘é…ç½®

å®Œæ•´ç¤ºä¾‹

```bash
# ç”Ÿäº§ç¯å¢ƒç¼–è¯‘é…ç½®
kotlinc \
  -jvm-target 11 \
  -language-version 1.9 \
  -api-version 1.9 \
  -include-runtime \
  -opt-in=kotlin.ExperimentalStdlibApi \
  -Werror \
  src/main/kotlin/**/*.kt \
  -d myapplication.jar
```

å¼€å‘ç¯å¢ƒé…ç½®

```bash
# å¼€å‘ç¯å¢ƒç¼–è¯‘
kotlinc \
  -jvm-target 11 \
  -Xuse-ir \
  -nowarn \
  src/*.kt \
  -d development.jar
```

ğŸ¯ é—®é¢˜æ’æŸ¥

å¸¸è§é—®é¢˜è§£å†³

```bash
# æŸ¥çœ‹è¯¦ç»†é”™è¯¯ä¿¡æ¯
kotlinc -verbose problem.kt

# æ£€æŸ¥ç¼–è¯‘å™¨ç‰ˆæœ¬å…¼å®¹æ€§
kotlinc -version

# è¯Šæ–­ç¼–è¯‘é—®é¢˜
kotlinc -Xdebug problem.kt
```

ä¾èµ–é—®é¢˜æ’æŸ¥

```bash
# æ£€æŸ¥ classpath
kotlinc -cp $(find . -name "*.jar" | tr '\n' ':') Main.kt

# ä½¿ç”¨è¯¦ç»†æ¨¡å¼æŸ¥çœ‹ä¾èµ–åŠ è½½
kotlinc -verbose -cp libs/*.jar Main.kt
```

ğŸ’¡ ä½¿ç”¨æŠ€å·§

1. ä½¿ç”¨ Gradle æˆ– Maven ç®¡ç†å¤§å‹é¡¹ç›®ï¼Œkotlinc æ›´é€‚åˆå°è„šæœ¬
2. åŒ…å«è¿è¡Œæ—¶ åˆ›å»ºç‹¬ç«‹å¯æ‰§è¡Œ JARï¼š-include-runtime
3. æŒ‡å®š JVM ç›®æ ‡ ç¡®ä¿å­—èŠ‚ç å…¼å®¹æ€§ï¼š-jvm-target
4. ä½¿ç”¨ REPL å¿«é€Ÿæµ‹è¯•ä»£ç ç‰‡æ®µ
5. å¯ç”¨å®éªŒæ€§åŠŸèƒ½ æ—¶è¦æ³¨æ„ API ç¨³å®šæ€§

è¿™ä»½å‘½ä»¤å¤§å…¨æ¶µç›–äº† kotlinc çš„ä¸»è¦ä½¿ç”¨åœºæ™¯ã€‚å¯¹äºå¤§å‹é¡¹ç›®ï¼Œå»ºè®®ä½¿ç”¨æ„å»ºå·¥å…·ï¼ˆGradle/Mavenï¼‰ï¼Œä½†å¯¹äºå¿«é€Ÿè„šæœ¬ã€å­¦ä¹ å’Œå°å‹å·¥å…·ï¼Œkotlinc éå¸¸å®ç”¨ï¼

è¿™é‡Œæ•´ç†äº†ä¸€ä»½å…¨é¢çš„ Spring Boot CLI å‘½ä»¤å¤§å…¨ï¼Œæ¶µç›–äº†ä»åŸºç¡€åˆ°é«˜çº§çš„å¸¸ç”¨å‘½ä»¤ï¼š

ğŸš€ åŸºç¡€å‘½ä»¤

é¡¹ç›®åˆ›å»ºå’Œè¿è¡Œ

```bash
# åˆ›å»ºæ–°é¡¹ç›®
spring init myproject                          # åˆ›å»ºåŸºç¡€é¡¹ç›®
spring init --dependencies=web myproject       # å¸¦ä¾èµ–åˆ›å»º
spring init --list                             # æŸ¥çœ‹å¯ç”¨ä¾èµ–åˆ—è¡¨

# è¿è¡Œåº”ç”¨
spring run app.groovy                          # è¿è¡Œ Groovy è„šæœ¬
spring run app.java                            # è¿è¡Œ Java æ–‡ä»¶
spring run *.groovy                            # è¿è¡Œå¤šä¸ªæ–‡ä»¶

# é¡¹ç›®ä¿¡æ¯
spring --version                               # æŸ¥çœ‹ç‰ˆæœ¬
spring --help                                  # æŸ¥çœ‹å¸®åŠ©
```

ğŸ“¦ é¡¹ç›®åˆ›å»ºå‘½ä»¤

é¡¹ç›®åˆå§‹åŒ–é€‰é¡¹

```bash
# åŸºç¡€é¡¹ç›®åˆ›å»º
spring init --dependencies=web,data-jpa myapp
spring init --groupId=com.example --artifactId=myapp
spring init --package-name=com.example.demo myapp

# æŒ‡å®šé¡¹ç›®ç±»å‹
spring init --type=gradle-project myapp        # Gradle é¡¹ç›®
spring init --type=maven-project myapp         # Maven é¡¹ç›®
spring init --type=gradle-project-kotlin myapp # Kotlin + Gradle

# æŒ‡å®š Java ç‰ˆæœ¬
spring init --java-version=17 myapp
spring init --java-version=11 --packaging=war myapp
```

é«˜çº§é¡¹ç›®é…ç½®

```bash
# å®Œæ•´é¡¹ç›®é…ç½®
spring init \
  --groupId=com.example \
  --artifactId=myapp \
  --version=1.0.0 \
  --package-name=com.example.demo \
  --dependencies=web,data-jpa,security \
  --description="My Spring Boot Application" \
  myapp

# ä»è‡ªå®šä¹‰æ¨¡æ¿åˆ›å»º
spring init --target=https://start.spring.io myapp
```

ğŸ› ï¸ å¼€å‘å·¥å…·å‘½ä»¤

å®æ—¶é‡æ–°åŠ è½½

```bash
spring run --watch app.groovy                  # ç›‘å¬æ–‡ä»¶å˜åŒ–
spring run --watch *.java                      # ç›‘å¬ Java æ–‡ä»¶å˜åŒ–
spring run --watch "**/*.groovy"               # é€’å½’ç›‘å¬
```

å±æ€§é…ç½®

```bash
spring run --server.port=8081 app.groovy       # æŒ‡å®šç«¯å£
spring run --spring.profiles.active=dev app.groovy # æŒ‡å®šé…ç½®
spring run --jvm-options="-Xmx512m" app.groovy # JVM å‚æ•°
```

ğŸ“š Groovy è„šæœ¬å¼€å‘

è¿è¡Œ Groovy è„šæœ¬

```bash
# åŸºç¡€è„šæœ¬è¿è¡Œ
spring run hello.groovy
spring run --watch hello.groovy                # å¼€å‘æ¨¡å¼

# å¤æ‚åº”ç”¨
spring run multi-file-app/                     # è¿è¡Œç›®å½•ä¸­çš„è„šæœ¬
spring run "**/*.groovy"                       # è¿è¡Œå¤šä¸ªè„šæœ¬
```

ç¤ºä¾‹ Groovy è„šæœ¬

```groovy
@RestController
class WebApplication {
    
    @GetMapping("/")
    String home() {
        "Hello Spring Boot!"
    }
    
    @GetMapping("/hello/{name}")
    String hello(@PathVariable String name) {
        "Hello, $name!"
    }
}
```

ğŸ”§ ä¾èµ–ç®¡ç†

ä¾èµ–æ“ä½œ

```bash
# æŸ¥çœ‹ä¾èµ–
spring dependencies --list                     # åˆ—å‡ºæ‰€æœ‰ä¾èµ–
spring dependencies --group-id=org.springframework.boot # æŒ‰ç»„æŸ¥çœ‹

# ä¾èµ–æ ‘
spring dependency-tree                         # æ˜¾ç¤ºä¾èµ–æ ‘
```

å¸¸ç”¨ä¾èµ–ç»„åˆ

```bash
# Web åº”ç”¨
spring init --dependencies=web,thymeleaf,devtools myapp

# æ•°æ®åº”ç”¨
spring init --dependencies=web,data-jpa,h2,devtools myapp

# å®‰å…¨åº”ç”¨
spring init --dependencies=web,security,thymeleaf myapp

# å“åº”å¼åº”ç”¨
spring init --dependencies=webflux,data-mongodb-reactive myapp
```

ğŸ¯ CLI ç‰¹æœ‰åŠŸèƒ½

åµŒå…¥å¼ Shell

```bash
spring shell                                   # å¯åŠ¨ Spring Boot Shell
# Shell å†…éƒ¨å‘½ä»¤
help                                          # æŸ¥çœ‹å¸®åŠ©
clear                                         # æ¸…å±
exit                                          # é€€å‡º
run script.groovy                             # åœ¨ shell ä¸­è¿è¡Œè„šæœ¬
```

Grape ä¾èµ–ç®¡ç† (Groovy)

```groovy
@Grab('spring-boot-starter-web')
@Grab('thymeleaf-spring5')
@RestController
class MyApp {
    // åº”ç”¨ä»£ç 
}
```

ğŸ“Š ç®¡ç†å’Œç›‘æ§

Actuator ç›¸å…³

```bash
# å½“é¡¹ç›®åŒ…å« actuator ä¾èµ–æ—¶
spring run --endpoints.health.enabled=true app.groovy
spring run --management.endpoints.web.exposure.include=* app.groovy
```

æ€§èƒ½ç›‘æ§

```bash
spring run --spring.jmx.enabled=true app.groovy
spring run --javaagent=path/to/agent.jar app.groovy
```

ğŸ” æµ‹è¯•å’Œè¯Šæ–­

æµ‹è¯•å‘½ä»¤

```bash
spring test app.groovy                         # è¿è¡Œæµ‹è¯•
spring test --watch app.groovy                 # ç›‘å¬æ¨¡å¼è¿è¡Œæµ‹è¯•
```

è¯Šæ–­å·¥å…·

```bash
spring env                                     # æŸ¥çœ‹ç¯å¢ƒå˜é‡
spring doctor                                  # è¯Šæ–­ CLI ç¯å¢ƒ
spring status                                  # æŸ¥çœ‹åº”ç”¨çŠ¶æ€
```

âš¡ å®ç”¨å‘½ä»¤ç»„åˆ

å¼€å‘å·¥ä½œæµ

```bash
# å¿«é€Ÿåˆ›å»ºå’Œè¿è¡Œ
spring init --dependencies=web,devtools myapp && cd myapp && ./mvnw spring-boot:run

# Groovy è„šæœ¬å¿«é€Ÿå¼€å‘
spring run --watch --server.port=9000 app.groovy

# å¤šæ–‡ä»¶é¡¹ç›®
spring run --watch "src/**/*.groovy"
```

ç”Ÿäº§å°±ç»ªé…ç½®

```bash
spring run \
  --server.port=8080 \
  --spring.profiles.active=prod \
  --management.endpoints.web.exposure.include=health,info,metrics \
  app.groovy
```

ğŸŒ Web å¼€å‘ç¤ºä¾‹

REST API å¼€å‘

```groovy
@Grab('spring-boot-starter-web')
@RestController
class ApiApplication {
    
    @GetMapping("/api/hello")
    Map hello() {
        [message: "Hello World", timestamp: new Date()]
    }
    
    @PostMapping("/api/users")
    Map createUser(@RequestBody Map user) {
        [id: 1, name: user.name, status: "created"]
    }
}
```

æ•°æ®åº“åº”ç”¨

```groovy
@Grab('spring-boot-starter-data-jpa')
@Grab('h2')
@Entity
class User {
    @Id @GeneratedValue Long id
    String name, email
}

@Repository
interface UserRepository extends JpaRepository<User, Long> {}

@RestController
class UserController {
    @Autowired UserRepository userRepository
    
    @GetMapping("/users")
    List<User> users() {
        userRepository.findAll()
    }
}
```

ğŸ“‹ é…ç½®ç®¡ç†

å¤–éƒ¨é…ç½®

```bash
# ä½¿ç”¨å¤–éƒ¨é…ç½®æ–‡ä»¶
spring run --spring.config.location=classpath:/application-dev.properties app.groovy
spring run --spring.config.location=file:/config/ app.groovy

# ç¯å¢ƒç‰¹å®šé…ç½®
spring run --spring.profiles.active=dev,debug app.groovy
```

å®‰å…¨é…ç½®

```bash
spring run --spring.security.user.name=admin --spring.security.user.password=secret app.groovy
```

ğŸš€ éƒ¨ç½²ç›¸å…³

JAR æ‰“åŒ…

```bash
# å¯¹äºæ ‡å‡† Spring Boot é¡¹ç›®ï¼ˆé CLIï¼‰
./mvnw package
./gradlew build

# è¿è¡Œæ‰“åŒ…åçš„åº”ç”¨
java -jar target/myapp-0.0.1-SNAPSHOT.jar
```

äº‘éƒ¨ç½²é…ç½®

```bash
spring run --server.port=${PORT:8080} app.groovy
spring run --spring.cloud.config.uri=http://config-server:8888 app.groovy
```

ğŸ’¡ ä½¿ç”¨æŠ€å·§å’Œæœ€ä½³å®è·µ

1. å¼€å‘æ•ˆç‡æŠ€å·§

```bash
# ä½¿ç”¨å¼€å‘å·¥å…·å®ç°çƒ­åŠ è½½
spring init --dependencies=web,devtools myapp

# ä½¿ç”¨ Groovy è¿›è¡Œå¿«é€ŸåŸå‹å¼€å‘
spring run --watch demo.groovy

# åˆ©ç”¨è‡ªåŠ¨é…ç½®ç®€åŒ–å¼€å‘
```

2. é¡¹ç›®ç»„ç»‡

```bash
# å¤šæ–‡ä»¶é¡¹ç›®ç»“æ„
myapp/
  â”œâ”€â”€ main.groovy
  â”œâ”€â”€ controllers/
  â”‚   â””â”€â”€ UserController.groovy
  â”œâ”€â”€ services/
  â”‚   â””â”€â”€ UserService.groovy
  â””â”€â”€ entities/
      â””â”€â”€ User.groovy

# è¿è¡Œæ•´ä¸ªé¡¹ç›®
spring run --watch "**/*.groovy"
```

3. ä¾èµ–ç®¡ç†æŠ€å·§

```groovy
// åœ¨ Groovy è„šæœ¬ä¸­ä½¿ç”¨ Grab æ³¨è§£ç®¡ç†ä¾èµ–
@Grab('spring-boot-starter-web')
@Grab('spring-boot-starter-thymeleaf')
@Grab('spring-boot-devtools')
@RestController
class Application {
    // åº”ç”¨ä»£ç 
}
```

ğŸ¯ æ•…éšœæ’é™¤

å¸¸è§é—®é¢˜è§£å†³

```bash
# æ£€æŸ¥ç¯å¢ƒé…ç½®
spring doctor

# æŸ¥çœ‹è¯¦ç»†æ—¥å¿—
spring run --debug app.groovy

# å†…å­˜é—®é¢˜
spring run --jvm-options="-Xmx1024m" large-app.groovy

# ä¾èµ–è§£æé—®é¢˜
spring run --verbose app.groovy
```

ç½‘ç»œå’Œä»£ç†é…ç½®

```bash
# è®¾ç½®ä»£ç†
spring run --https.proxyHost=proxy --https.proxyPort=8080 app.groovy

# ç¦»çº¿æ¨¡å¼
spring run --offline app.groovy
```

Spring Boot CLI æ˜¯å¿«é€ŸåŸå‹å¼€å‘å’Œå¾®æœåŠ¡åˆ›å»ºçš„å¼ºå¤§å·¥å…·ï¼Œç‰¹åˆ«é€‚åˆ Groovy å¼€å‘è€…å’Œéœ€è¦å¿«é€ŸéªŒè¯æƒ³æ³•çš„æƒ…å†µã€‚å¯¹äºå¤§å‹ä¼ä¸šçº§åº”ç”¨ï¼Œå»ºè®®ä½¿ç”¨æ ‡å‡†çš„ Spring Boot é¡¹ç›®ç»“æ„ã€‚

è¿™é‡Œæ•´ç†äº†ä¸€ä»½é’ˆå¯¹ IntelliJ IDEA Mac ç‰ˆè¿›è¡Œ Kotlin å¼€å‘çš„å®Œæ•´å‘½ä»¤å¤§å…¨ï¼š

ğŸš€ IntelliJ IDEA Mac å¿«æ·é”®å¤§å…¨

ğŸ”§ ç¼–è¾‘æ“ä½œ

```bash
âŒ˜ + C                  # å¤åˆ¶
âŒ˜ + V                  # ç²˜è´´
âŒ˜ + X                  # å‰ªåˆ‡
âŒ˜ + Z                  # æ’¤é”€
âŒ˜ + â‡§ + Z              # é‡åš
âŒ˜ + D                  # å¤åˆ¶å½“å‰è¡Œ
âŒ˜ + âŒ«                  # åˆ é™¤å½“å‰è¡Œ
âŒ˜ + â‡§ + â†‘/â†“            # ä¸Šä¸‹ç§»åŠ¨ä»£ç è¡Œ
```

ğŸ” ä»£ç å¯¼èˆª

```bash
âŒ˜ + O                  # å¿«é€Ÿæ‰“å¼€ç±»
âŒ˜ + â‡§ + O              # å¿«é€Ÿæ‰“å¼€æ–‡ä»¶
âŒ˜ + E                  # æœ€è¿‘æ‰“å¼€çš„æ–‡ä»¶
âŒ˜ + â‡§ + E              # æœ€è¿‘ç¼–è¾‘çš„æ–‡ä»¶
âŒ˜ + B                  # è·³è½¬åˆ°å£°æ˜
âŒ˜ + U                  # è·³è½¬åˆ°çˆ¶ç±»/è¶…ç±»
âŒ˜ + âŒ¥ + B              # è·³è½¬åˆ°å®ç°
âŒ˜ + âŒ¥ + â†/â†’            # å‘å‰/å‘åå¯¼èˆª
âŒ˜ + L                  # è·³è½¬åˆ°æŒ‡å®šè¡Œ
```

ğŸ“ ä»£ç ç”Ÿæˆå’Œé‡æ„

```bash
âŒ˜ + N                  # ç”Ÿæˆä»£ç  (Getter/Setter/Constructorç­‰)
âŒƒ + â                 # æ˜¾ç¤ºæ„å›¾åŠ¨ä½œå’Œå¿«é€Ÿä¿®å¤
âŒ˜ + âŒ¥ + L              # æ ¼å¼åŒ–ä»£ç 
âŒ˜ + âŒ¥ + O              # ä¼˜åŒ– import
âŒ˜ + âŒ¥ + M              # æå–æ–¹æ³•
âŒ˜ + âŒ¥ + V              # æå–å˜é‡
âŒ˜ + âŒ¥ + F              # æå–å­—æ®µ
âŒ˜ + âŒ¥ + C              # æå–å¸¸é‡
âŒ˜ + âŒ¥ + P              # æå–å‚æ•°
```

ğŸ¯ Kotlin ç‰¹å®šåŠŸèƒ½

```bash
âŒƒ + âŒ¥ + R              # è¿è¡Œ Kotlin REPL
âŒ˜ + âŒ¥ + N              # å†…è”å‡½æ•°/å˜é‡
âŒƒ + âŒ¥ + â             # åœ¨ Kotlin ä¸­å¿«é€Ÿå®ç°æ¥å£
âŒ˜ + âŒ¥ + T              # ç¯ç»•ä»£ç  (if, try-catch, loopç­‰)
```

ğŸ“ é¡¹ç›®æ“ä½œå‘½ä»¤

é¡¹ç›®ç®¡ç†

```bash
âŒ˜ + â‡§ + A              # æŸ¥æ‰¾æ“ä½œ
âŒ˜ + 1                  # åˆ‡æ¢é¡¹ç›®å·¥å…·çª—å£
âŒ˜ + ;                  # é¡¹ç›®ç»“æ„è®¾ç½®
âŒ˜ + â‡§ + F12            # æœ€å¤§åŒ–ç¼–è¾‘å™¨çª—å£
```

æ„å»ºå’Œè¿è¡Œ

```bash
âŒƒ + âŒ¥ + R              # é€‰æ‹©é…ç½®å¹¶è¿è¡Œ
âŒƒ + âŒ¥ + D              # é€‰æ‹©é…ç½®å¹¶è°ƒè¯•
âŒƒ + R                  # è¿è¡Œå½“å‰é…ç½®
âŒƒ + D                  # è°ƒè¯•å½“å‰é…ç½®
âŒ˜ + F9                 # æ„å»ºé¡¹ç›®
âŒ˜ + â‡§ + F9             # é‡æ–°æ„å»ºé¡¹ç›®
```

ğŸ”§ ç»ˆç«¯å’Œå¤–éƒ¨å·¥å…·é›†æˆ

å†…ç½®ç»ˆç«¯æ“ä½œ

```bash
âŒ˜ + F12                # æ‰“å¼€ç»ˆç«¯çª—å£
# ç»ˆç«¯å†… Kotlin å‘½ä»¤
kotlinc -version        # æ£€æŸ¥ Kotlin ç‰ˆæœ¬
kotlinc main.kt -include-runtime -d main.jar  # ç¼–è¯‘ Kotlin
java -jar main.jar      # è¿è¡Œç¼–è¯‘åçš„ JAR
```

Gradle å‘½ä»¤ (Kotlin DSL)

```bash
./gradlew build         # æ„å»ºé¡¹ç›®
./gradlew clean         # æ¸…ç†æ„å»º
./gradlew run           # è¿è¡Œåº”ç”¨
./gradlew test          # è¿è¡Œæµ‹è¯•
./gradlew dependencies  # æŸ¥çœ‹ä¾èµ–
```

ğŸ› ï¸ è°ƒè¯•ç›¸å…³å‘½ä»¤

è°ƒè¯•å¿«æ·é”®

```bash
F8                      # æ­¥è¿‡
F7                      # æ­¥å…¥
â‡§ + F7                 # æ™ºèƒ½æ­¥å…¥
â‡§ + F8                 # æ­¥å‡º
âŒ¥ + F9                 # è¿è¡Œåˆ°å…‰æ ‡å¤„
âŒ¥ + F8                 # è®¡ç®—è¡¨è¾¾å¼
âŒ˜ + F8                 # åˆ‡æ¢æ–­ç‚¹
âŒ˜ + â‡§ + F8             # æŸ¥çœ‹æ‰€æœ‰æ–­ç‚¹
```

ğŸ“š ä»£ç åˆ†æå’Œæœç´¢

æœç´¢å’Œæ›¿æ¢

```bash
âŒ˜ + F                  # åœ¨å½“å‰æ–‡ä»¶æŸ¥æ‰¾
âŒ˜ + R                  # åœ¨å½“å‰æ–‡ä»¶æ›¿æ¢
âŒ˜ + â‡§ + F              # åœ¨è·¯å¾„ä¸­æŸ¥æ‰¾
âŒ˜ + â‡§ + R              # åœ¨è·¯å¾„ä¸­æ›¿æ¢
âŒ˜ + âŒ¥ + F              # æŸ¥æ‰¾å¹¶æ›¿æ¢æ‰€æœ‰å‡ºç°
```

ä»£ç ç»“æ„

```bash
âŒ˜ + F12                # æ˜¾ç¤ºå½“å‰æ–‡ä»¶ç»“æ„
âŒ¥ + F1                 # é€‰æ‹©å½“å‰æ–‡ä»¶æˆ–ç¬¦å·
âŒ˜ + âŒ¥ + F7             # æ˜¾ç¤ºç”¨æ³•
```

ğŸŒ ç‰ˆæœ¬æ§åˆ¶é›†æˆ

Git æ“ä½œ

```bash
âŒ˜ + K                  # æäº¤æ›´æ”¹
âŒ˜ + â‡§ + K              # æ¨é€æ›´æ”¹
âŒ˜ + T                  # æ›´æ–°é¡¹ç›®
âŒ˜ + 9                  # æ‰“å¼€ç‰ˆæœ¬æ§åˆ¶çª—å£
âŒƒ + V                  # VCS å¿«é€Ÿæ“ä½œ
```

âš¡ å®ç”¨åŠŸèƒ½å¿«æ·é”®

å¤šå…‰æ ‡å’Œé€‰æ‹©

```bash
âŒ¥ + ç‚¹å‡»               # åˆ›å»ºå¤šä¸ªå…‰æ ‡
âŒ¥ + æ‹–åŠ¨               # åˆ—é€‰æ‹©æ¨¡å¼
âŒƒ + G                  # é€‰æ‹©ä¸‹ä¸€ä¸ªå‡ºç°
âŒƒ + âŒ¥ + G              # å–æ¶ˆé€‰æ‹©å‡ºç°
âŒ˜ + âŒƒ + G              # é€‰æ‹©æ‰€æœ‰å‡ºç°
```

ç•Œé¢ç®¡ç†

```bash
âŒ˜ + ,                  # æ‰“å¼€åå¥½è®¾ç½®
âŒ˜ + ;                  # é¡¹ç›®ç»“æ„
âŒ˜ + â‡§ + F8             # è§†å›¾æ¨¡å¼åˆ‡æ¢
âŒƒ + `                  # å¿«é€Ÿåˆ‡æ¢æ–¹æ¡ˆ
```

ğŸ” Kotlin å¼€å‘ä¸“å±æŠ€å·§

å¿«é€Ÿæ¨¡æ¿

```bash
âŒ˜ + J                  # æ’å…¥æ´»åŠ¨æ¨¡æ¿
main + â              # ç”Ÿæˆ main å‡½æ•°
sout + â              # ç”Ÿæˆ println
iter + â              # ç”Ÿæˆè¿­ä»£å¾ªç¯
```

ç±»å‹å’Œè½¬æ¢

```bash
âŒƒ + âŒ¥ + V              # æå– Kotlin å˜é‡
âŒƒ + âŒ¥ + C              # æå– Kotlin å¸¸é‡
âŒ˜ + âŒ¥ + N              # Kotlin å†…è”
âŒƒ + âŒ¥ + â             # å®ç° Kotlin æ¥å£/æŠ½è±¡ç±»
```

ğŸ“¦ ä¾èµ–å’ŒåŒ…ç®¡ç†

åœ¨ IDEA ä¸­æ“ä½œ

```bash
âŒ˜ + ; â†’ Modules â†’ Dependencies  # ç®¡ç†ä¾èµ–
âŒ˜ + â‡§ + A â†’ "Add Maven Dependency"  # æ·»åŠ  Maven ä¾èµ–
```

ç»ˆç«¯ Gradle å‘½ä»¤

```bash
./gradlew dependencies --configuration compileClasspath
./gradlew kotlinUpgrade  # å‡çº§ Kotlin ç‰ˆæœ¬
```

ğŸ¯ è¿è¡Œé…ç½®ç®¡ç†

åˆ›å»ºè¿è¡Œé…ç½®

```bash
âŒƒ + âŒ¥ + R â†’ Edit Configurations  # ç¼–è¾‘è¿è¡Œé…ç½®
# å¸¸ç”¨é…ç½®ç±»å‹ï¼š
- Kotlin
- Spring Boot
- JUnit
- Application
```

ğŸ”„ å®ç”¨å·¥ä½œæµå‘½ä»¤

æ—¥å¸¸å¼€å‘æµç¨‹

```bash
# 1. æ‰“å¼€é¡¹ç›®
open -a "IntelliJ IDEA" project_folder

# 2. æ„å»ºé¡¹ç›®
âŒ˜ + F9

# 3. è¿è¡Œæµ‹è¯•
âŒƒ + âŒ¥ + R â†’ é€‰æ‹©æµ‹è¯•é…ç½®

# 4. è¿è¡Œåº”ç”¨
âŒƒ + R

# 5. æäº¤ä»£ç 
âŒ˜ + K â†’ âŒ˜ + â‡§ + K
```

è°ƒè¯•å·¥ä½œæµ

```bash
# 1. è®¾ç½®æ–­ç‚¹
âŒ˜ + F8

# 2. å¼€å§‹è°ƒè¯•
âŒƒ + D

# 3. æ­¥è¿›è°ƒè¯•
F7/F8

# 4. æŸ¥çœ‹å˜é‡
âŒ¥ + F8

# 5. ä¿®æ”¹å˜é‡å€¼
åœ¨è°ƒè¯•çª—å£ä¸­ç›´æ¥ç¼–è¾‘
```

ğŸ“‹ Kotlin ä»£ç é£æ ¼é…ç½®

ä»£ç æ ¼å¼åŒ–

```bash
âŒ˜ + âŒ¥ + L              # æ ¼å¼åŒ–ä»£ç 
âŒ˜ + âŒ¥ + â‡§ + L          # æ‰“å¼€æ ¼å¼åŒ–è®¾ç½®
```

å¯¼å…¥ä¼˜åŒ–

```bash
âŒƒ + âŒ¥ + O              # ä¼˜åŒ– imports
# åœ¨ Settings â†’ Editor â†’ Code Style â†’ Kotlin ä¸­é…ç½®
```

ğŸš€ æ€§èƒ½ä¼˜åŒ–æŠ€å·§

å†…å­˜å’Œæ€§èƒ½

```bash
# å¢åŠ  IDEA å†…å­˜
# ç¼–è¾‘ /Applications/IntelliJ IDEA.app/Contents/bin/idea.vmoptions
-Xmx2048m
-Xms512m

# æ¸…ç†ç¼“å­˜
âŒ˜ + â‡§ + A â†’ "Invalidate Caches and Restart"
```

ğŸ’¡ å®ç”¨æ’ä»¶ç›¸å…³å‘½ä»¤

æ’ä»¶ç®¡ç†

```bash
âŒ˜ + , â†’ Plugins        # ç®¡ç†æ’ä»¶
# æ¨è Kotlin å¼€å‘æ’ä»¶ï¼š
- Kotlin
- Rainbow Brackets
- GitToolBox
- String Manipulation
```

è¿™äº›å‘½ä»¤å’Œå¿«æ·é”®å°†æå¤§æé«˜ä½ åœ¨ IntelliJ IDEA Mac ç‰ˆä¸Šè¿›è¡Œ Kotlin å¼€å‘çš„æ•ˆç‡ã€‚å»ºè®®å…ˆæŒæ¡å¸¸ç”¨çš„ç¼–è¾‘å’Œå¯¼èˆªå‘½ä»¤ï¼Œç„¶åé€æ­¥å­¦ä¹ é«˜çº§åŠŸèƒ½ï¼




kotlinxæ˜¯ä»€ä¹ˆ

å¥½çš„ï¼Œè¿™æ˜¯ä¸€ä¸ªéå¸¸æ ¸å¿ƒçš„ Kotlin å¼€å‘è€…é—®é¢˜ã€‚

kotlinx å¹¶ä¸æ˜¯ä¸€ä¸ªå•ä¸€çš„åº“ï¼Œè€Œæ˜¯ ä¸€ç³»åˆ—ç”± JetBrainsï¼ˆKotlin è¯­è¨€çš„åˆ›é€ è€…ï¼‰å®˜æ–¹å¼€å‘å’Œç»´æŠ¤çš„ Kotlin åº“çš„é›†åˆã€‚

ä½ å¯ä»¥æŠŠå®ƒç†è§£ä¸º Kotlin çš„â€œå®˜æ–¹æ‰©å±•åŒ…â€æˆ–â€œæ ‡å‡†æ‰©å±•åº“â€ã€‚è¿™äº›åº“ä¸º Kotlin è¯­è¨€æä¾›äº†åœ¨ç‰¹å®šé¢†åŸŸï¼ˆå¦‚åç¨‹ã€åºåˆ—åŒ–ã€æ—¥æœŸæ—¶é—´å¤„ç†ç­‰ï¼‰çš„å¼ºå¤§èƒ½åŠ›ï¼Œä½†å®ƒä»¬ä¸å±äº Kotlin æ ‡å‡†åº“ï¼ˆkotlin-stdlibï¼‰çš„æ ¸å¿ƒéƒ¨åˆ†ã€‚

æ ¸å¿ƒæ€æƒ³

Â· å®˜æ–¹æ”¯æŒï¼šç”± JetBrains å›¢é˜Ÿç›´æ¥å¼€å‘å’Œç»´æŠ¤ï¼Œä¿è¯äº†é«˜è´¨é‡å’Œä¸ Kotlin è¯­è¨€çš„æ·±åº¦é›†æˆã€‚
Â· è·¨å¹³å°ï¼šç»å¤§å¤šæ•° kotlinx åº“éƒ½æ”¯æŒ Kotlin çš„å¤šå¹³å°é¡¹ç›®ï¼Œè¿™æ„å‘³ç€ä½ å¯ä»¥åœ¨ JVMã€JavaScriptã€Nativeï¼ˆiOSã€æ¡Œé¢ç­‰ï¼‰ä¸Šä½¿ç”¨ç›¸åŒçš„ APIã€‚
Â· åç¨‹ä¼˜å…ˆï¼šè®¸å¤šåº“éƒ½æ·±åº¦é›†æˆäº† Kotlin åç¨‹ï¼Œæä¾›äº†ä¼˜é›…çš„å¼‚æ­¥ç¼–ç¨‹ä½“éªŒã€‚

---

ä¸»è¦çš„ kotlinx åº“æœ‰å“ªäº›ï¼Ÿ

ä»¥ä¸‹æ˜¯ä¸€äº›æœ€å¸¸ç”¨å’Œæœ€é‡è¦çš„ kotlinx åº“ï¼š

1. kotlinx.coroutinesï¼ˆåç¨‹ï¼‰

è¿™æ˜¯ kotlinx å®¶æ—ä¸­æœ€é‡è¦ã€æœ€è‘—åçš„åº“ã€‚å®ƒä¸º Kotlin æä¾›äº†å¼ºå¤§çš„å¼‚æ­¥ç¼–ç¨‹æ”¯æŒã€‚

Â· ä½œç”¨ï¼šç”¨äºç®€åŒ–å¼‚æ­¥ã€éé˜»å¡å¼ç¼–ç¨‹ã€‚å®ƒé€šè¿‡â€œåç¨‹â€è¿™ä¸ªæ¦‚å¿µï¼Œè®©ä½ å¯ä»¥ç”¨çœ‹ä¼¼åŒæ­¥çš„ä»£ç å†™å‡ºé«˜æ•ˆçš„å¼‚æ­¥æ“ä½œï¼Œé¿å…äº†â€œå›è°ƒåœ°ç‹±â€ã€‚
Â· æ ¸å¿ƒæ¦‚å¿µï¼šlaunch, async, await, Flow ç­‰ã€‚
Â· åº”ç”¨åœºæ™¯ï¼šç½‘ç»œè¯·æ±‚ã€æ•°æ®åº“æ“ä½œã€æ–‡ä»¶ I/Oã€UI äº‹ä»¶æµç­‰ä»»ä½•éœ€è¦å¼‚æ­¥å¤„ç†çš„åœºæ™¯ã€‚

```kotlin
// ç¤ºä¾‹ï¼šä½¿ç”¨åç¨‹è¿›è¡Œå¼‚æ­¥ç½‘ç»œè¯·æ±‚
viewModelScope.launch {
    try {
        // åœ¨åå°çº¿ç¨‹æ‰§è¡Œç½‘ç»œè¯·æ±‚ï¼Œä½†ä¸é˜»å¡ä¸»çº¿ç¨‹
        val user = apiService.getUser(userId).await()
        // è‡ªåŠ¨åˆ‡å›ä¸»çº¿ç¨‹æ›´æ–° UI
        _user.value = user
    } catch (e: Exception) {
        // å¤„ç†å¼‚å¸¸
    }
}
```

2. kotlinx.serializationï¼ˆåºåˆ—åŒ–ï¼‰

æä¾›äº† Kotlin åŸç”Ÿã€è·¨å¹³å°çš„åºåˆ—åŒ–/ååºåˆ—åŒ–åŠŸèƒ½ã€‚

Â· ä½œç”¨ï¼šå°† Kotlin å¯¹è±¡è½¬æ¢ä¸º JSONã€Protobufã€CBOR ç­‰æ ¼å¼ï¼Œæˆ–è€…ä»è¿™äº›æ ¼å¼è½¬æ¢å›å¯¹è±¡ã€‚
Â· ç‰¹ç‚¹ï¼šç¼–è¯‘æ—¶ç”Ÿæˆåºåˆ—åŒ–é€»è¾‘ï¼Œæ€§èƒ½å¥½ï¼Œæ— éœ€åå°„ã€‚
Â· åº”ç”¨åœºæ™¯ï¼šç½‘ç»œè¯·æ±‚ä¸­è§£æ JSONã€æ•°æ®æŒä¹…åŒ–ç­‰ã€‚

```kotlin
// ç¤ºä¾‹ï¼šå°†å¯¹è±¡åºåˆ—åŒ–ä¸º JSON
@Serializable
data class User(val name: String, val age: Int)

fun main() {
    val user = User("Alice", 25)
    val json = Json.encodeToString(user)
    println(json) // {"name":"Alice","age":25}

    val obj = Json.decodeFromString<User>(json)
    println(obj) // User(name=Alice, age=25)
}
```

3. kotlinx.datetimeï¼ˆæ—¥æœŸæ—¶é—´ï¼‰

æä¾›äº†ç°ä»£çš„ã€è·¨å¹³å°çš„æ—¥æœŸå’Œæ—¶é—´å¤„ç† APIã€‚

Â· ä½œç”¨ï¼šå¼¥è¡¥äº† Java æ—§ç‰ˆ Date å’Œ Calendar ç±»çš„ç¼ºé™·ï¼Œè®¾è®¡ä¸Šå€Ÿé‰´äº† java.time APIï¼Œä½†ä¿è¯äº†è·¨å¹³å°ä¸€è‡´æ€§ã€‚
Â· æ ¸å¿ƒæ¦‚å¿µï¼šInstant, LocalDateTime, LocalDate ç­‰ã€‚
Â· åº”ç”¨åœºæ™¯ï¼šå¤„ç†ä»»ä½•ä¸æ—¥æœŸå’Œæ—¶é—´ç›¸å…³çš„ä¸šåŠ¡é€»è¾‘ã€‚

4. kotlinx.ioï¼ˆI/O æ“ä½œï¼‰

æä¾›äº†ä¸€ä¸ªè·¨å¹³å°çš„ã€åŸºäºåç¨‹çš„ I/O æŠ½è±¡å±‚ã€‚

Â· ä½œç”¨ï¼šç®€åŒ–æ–‡ä»¶å’Œæµçš„è¯»å†™æ“ä½œï¼Œå¹¶æ”¯æŒåç¨‹çš„å¼‚æ­¥ç‰¹æ€§ã€‚
Â· åº”ç”¨åœºæ™¯ï¼šæ–‡ä»¶è¯»å†™ã€ç½‘ç»œæµå¤„ç†ã€‚

5. kotlinx.collections.immutableï¼ˆä¸å¯å˜é›†åˆï¼‰

æä¾›äº†ä¸€ç³»åˆ—çœŸæ­£çš„ä¸å¯å˜é›†åˆæ¥å£å’Œå®ç°ã€‚

Â· ä½œç”¨ï¼šåœ¨å‡½æ•°å¼ç¼–ç¨‹æˆ–å¤šçº¿ç¨‹ç¯å¢ƒä¸­ï¼Œä½¿ç”¨ä¸å¯å˜é›†åˆå¯ä»¥é¿å…æ„å¤–çš„ä¿®æ”¹ï¼Œæé«˜ä»£ç çš„å®‰å…¨æ€§å’Œå¯é¢„æµ‹æ€§ã€‚

---

å¦‚ä½•ä½¿ç”¨ï¼Ÿ

åœ¨ Gradle é¡¹ç›®ä¸­ï¼Œä½ éœ€è¦åœ¨ build.gradle.kts æ–‡ä»¶ä¸­æ·»åŠ å¯¹åº”çš„ä¾èµ–ã€‚è¿™äº›åº“çš„ Group ID é€šå¸¸æ˜¯ org.jetbrains.kotlinxã€‚

```kotlin
// ç¤ºä¾‹ï¼šæ·»åŠ åç¨‹å’Œåºåˆ—åŒ–ä¾èµ–
dependencies {
    // åç¨‹æ ¸å¿ƒ
    implementation("org.jetbrains.kotlinx:kotlinx-coroutines-core:1.8.0")
    // åºåˆ—åŒ–æ ¸å¿ƒ
    implementation("org.jetbrains.kotlinx:kotlinx-serialization-json:1.6.0")
    // å¦‚æœä½ åœ¨ Android é¡¹ç›®ä¸­ä½¿ç”¨åç¨‹ï¼Œå¯èƒ½è¿˜éœ€è¦è¿™ä¸ª
    implementation("org.jetbrains.kotlinx:kotlinx-coroutines-android:1.8.0")
}
```

æ€»ç»“

kotlinx æ˜¯ Kotlin ç”Ÿæ€ç³»ç»Ÿçš„åŸºçŸ³ï¼Œå®ƒæä¾›äº†ä¸€å¥—å®˜æ–¹ã€é«˜è´¨é‡ã€è·¨å¹³å°çš„æ‰©å±•åº“ï¼Œæå¤§åœ°å¢å¼ºäº† Kotlin åœ¨å¼‚æ­¥ç¼–ç¨‹ã€æ•°æ®åºåˆ—åŒ–ã€æ—¥æœŸå¤„ç†ç­‰å…³é”®é¢†åŸŸçš„èƒ½åŠ›ã€‚å¯¹äºä»»ä½•ä¸¥è‚ƒçš„ Kotlin å¼€å‘è€…æ¥è¯´ï¼Œç†Ÿç»ƒæŒæ¡ kotlinx.coroutines å’Œ kotlinx.serialization ç­‰æ ¸å¿ƒåº“æ˜¯å¿…ä¸å¯å°‘çš„ã€‚


åœ¨ IntelliJ IDEA ä¸­æŸ¥çœ‹ Gradle ç¼–è¯‘å’Œæ‰§è¡Œ Kotlin çš„æœ€ç»ˆè½¬æ¢å‘½ä»¤ï¼Œæœ‰å‡ ç§æ–¹æ³•ï¼š

1. ä½¿ç”¨ Gradle Build Scanï¼ˆæ¨èï¼‰

è¿™æ˜¯æœ€è¯¦ç»†å’Œç›´è§‚çš„æ–¹å¼ã€‚

å¯ç”¨ Build Scanï¼š

```bash
./gradlew build --scan
```

æˆ–è€…åœ¨ gradle.properties ä¸­é…ç½®ï¼š

```properties
# å¯ç”¨ build scan
org.gradle.console=verbose
buildScan.publish.always=true
```

æ‰§è¡Œåä¼šåœ¨æ§åˆ¶å°æ˜¾ç¤ºä¸€ä¸ª URLï¼Œç‚¹å‡»å¯ä»¥æŸ¥çœ‹è¯¦ç»†çš„æ„å»ºè¿‡ç¨‹ï¼ŒåŒ…æ‹¬æ‰€æœ‰ä»»åŠ¡çš„å‘½ä»¤è¡Œå‚æ•°ã€‚

2. å¯ç”¨ Gradle è°ƒè¯•æ—¥å¿—

æ–¹æ³•ä¸€ï¼šå‘½ä»¤è¡Œå‚æ•°

```bash
# æŸ¥çœ‹è¯¦ç»†è¾“å‡º
./gradlew build --info

# æŸ¥çœ‹è°ƒè¯•çº§åˆ«è¾“å‡º
./gradlew build --debug

# åªæŸ¥çœ‹æŸä¸ªä»»åŠ¡çš„è¯¦ç»†è¾“å‡º
./gradlew compileKotlin --debug
```

æ–¹æ³•äºŒï¼šåœ¨ gradle.properties ä¸­é…ç½®

```properties
# å¯ç”¨è¯¦ç»†æ—¥å¿—
org.gradle.logging.level=debug

# æˆ–è€…æ›´è¯¦ç»†çš„æ—¥å¿—
org.gradle.logging.level=info
```

3. åœ¨ IntelliJ IDEA ä¸­æŸ¥çœ‹

æŸ¥çœ‹ Gradle ä»»åŠ¡æ‰§è¡Œå‘½ä»¤ï¼š

1. æ‰“å¼€ Gradle å·¥å…·çª—å£ï¼ˆView â†’ Tool Windows â†’ Gradleï¼‰
2. å³é”®ç‚¹å‡»ä»»åŠ¡ â†’ Show Gradle Output
3. æˆ–è€…åœ¨è¿è¡Œä»»åŠ¡æ—¶ï¼ŒæŸ¥çœ‹ Run å·¥å…·çª—å£çš„è¾“å‡º

å¯ç”¨ IDEA çš„æ„å»ºè¾“å‡ºè¯¦æƒ…ï¼š

1. File â†’ Settings â†’ Build, Execution, Deployment â†’ Compiler
2. åœ¨ Command-line Options ä¸­æ·»åŠ ï¼š--info æˆ– --debug
3. æˆ–è€…å‹¾é€‰ Show command line for compilations

4. æŸ¥çœ‹å…·ä½“çš„ Kotlin ç¼–è¯‘å‘½ä»¤

å¯¹äº Kotlin ç¼–è¯‘ä»»åŠ¡ï¼š

```bash
# æŸ¥çœ‹ Kotlin ç¼–è¯‘çš„è¯¦ç»†å‘½ä»¤
./gradlew compileKotlin --console=verbose --info
```

åœ¨è¾“å‡ºä¸­æŸ¥æ‰¾ç±»ä¼¼è¿™æ ·çš„ä¿¡æ¯ï¼š

```
> Task :compileKotlin
Kotlin compilation 'jar' task
Classpath: [file1.jar, file2.jar, ...]
Source roots: [src/main/kotlin]
Destination dir: build/classes/kotlin/main
Compiler arguments: -jvm-target 1.8 -Xopt-in=kotlin.RequiresOptIn
```

5. ä½¿ç”¨ Gradle çš„ --dry-run é€‰é¡¹

æŸ¥çœ‹å°†è¦æ‰§è¡Œçš„ä»»åŠ¡ï¼ˆä¸å®é™…æ‰§è¡Œï¼‰ï¼š

```bash
./gradlew build --dry-run
```

6. è‡ªå®šä¹‰ Gradle ä»»åŠ¡æ¥æ˜¾ç¤ºå‘½ä»¤

åœ¨ build.gradle.kts ä¸­æ·»åŠ ï¼š

```kotlin
tasks.withType<org.jetbrains.kotlin.gradle.tasks.KotlinCompile>().configureEach {
    doFirst {
        println("Kotlin compile task: $name")
        println("Classpath: ${classpath?.files}")
        println("Source files: ${source.files}")
        println("Destination directory: $destinationDirectory.get()")
        println("Kotlin options: ${kotlinOptions}")
        println("JVM target: ${kotlinOptions.jvmTarget}")
        println("Free compiler args: ${kotlinOptions.freeCompilerArgs}")
    }
}
```

7. æŸ¥çœ‹æœ€ç»ˆæ‰§è¡Œçš„ Java å‘½ä»¤

å¯¹äºè¿è¡Œä»»åŠ¡ï¼Œå¯ä»¥æŸ¥çœ‹å®é™…çš„ Java å‘½ä»¤ï¼š

```kotlin
// åœ¨ build.gradle.kts ä¸­
tasks.withType<JavaExec>().configureEach {
    doFirst {
        println("Java exec command:")
        println("Main class: $mainClass")
        println("Classpath: ${classpath?.files}")
        println("JVM args: ${jvmArgs}")
        println("Args: $args")
    }
}
```

å®é™…ç¤ºä¾‹è¾“å‡º

è¿è¡Œ ./gradlew compileKotlin --info æ—¶ï¼Œä½ å¯èƒ½ä¼šçœ‹åˆ°ï¼š

```
> Task :compileKotlin
Executing task ':compileKotlin' due to:
  Task has not declared any outputs.
Kotlin compilation 'jar' task
Classpath: [/path/to/kotlin-stdlib.jar, ...]
Source roots: [src/main/kotlin]
Destination dir: build/classes/kotlin/main
Compiler arguments: -jvm-target 11 -Xjsr305=strict -java-parameters -version -d /project/build/classes/kotlin/main
```

æœ€ä½³å®è·µå»ºè®®

1. æ—¥å¸¸å¼€å‘ï¼šä½¿ç”¨ --info çº§åˆ«æ—¥å¿—
2. è°ƒè¯•ç¼–è¯‘é—®é¢˜ï¼šä½¿ç”¨ --debug æˆ– Build Scan
3. æ€§èƒ½åˆ†æï¼šç»“åˆ --profile å‚æ•°æŸ¥çœ‹æ„å»ºæ€§èƒ½

é€šè¿‡è¿™äº›æ–¹æ³•ï¼Œä½ å¯ä»¥æ¸…æ¥šåœ°äº†è§£ Gradle åœ¨ç¼–è¯‘å’Œæ‰§è¡Œ Kotlin ä»£ç æ—¶ä½¿ç”¨çš„å…·ä½“å‘½ä»¤å’Œå‚æ•°ã€‚




