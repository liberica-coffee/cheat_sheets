IntelliJ IDEA 导入包的快捷键大全

1. 核心导入快捷键

基础导入快捷键

快捷键 作用 说明
Option/Alt + Enter 万能修复键 最常用的导入快捷键
Control/Command + Space 代码补全 自动补全时自动导入
Control/Command + Shift + Enter 自动完成语句 包括自动导入

macOS 专用快捷键

快捷键 作用 描述
Option + Enter 显示意图操作 最重要！红色波浪线时使用
⌘ + Option + O 优化导入 整理所有导入语句
⌘ + Shift + A 查找操作 搜索"Optimize Imports"等操作

2. 不同场景下的使用

场景 1：红色下划线 - 类未找到

```kotlin
// 当看到红色下划线时
val user = User()  // User 类显示红色

// 光标放在 User 上，按：
Option + Enter

// 显示菜单：
// 1. Import class 'User'
// 2. Create class 'User'
// 3. More actions...
```

场景 2：灰色下划线 - 未使用的导入

```kotlin
import java.util.ArrayList  // 灰色显示，表示未使用

// 优化所有导入（删除未使用的）
⌘ + Option + O
```

场景 3：自动补全时自动导入

```kotlin
// 开始输入类名
val list = Arr  // 输入 Arr

// 按 Control + Space 显示补全建议
// 选择 ArrayList
// IDEA 会自动添加：import java.util.ArrayList
```

3. 高级导入技巧

批量导入

```kotlin
// 如果有多个未导入的类
val user = User()
val service = UserService()
val dao = UserDao()

// 可以：
// 1. 选中整个代码块
// 2. Option + Enter
// 3. 选择 "Import all"

// 或者使用：
⌘ + Option + O  // 自动优化导入所有需要的类
```

静态导入（Static Import）

```kotlin
// 对于静态方法
assertEquals(expected, actual)

// 光标放在 assertEquals 上
Option + Enter
// 选择：
// "Import static method 'org.junit.jupiter.api.Assertions.assertEquals'"
```

4. 自动导入配置

打开自动导入设置

```
Preferences → Editor → General → Auto Import
或快捷键：⌘ + , → 搜索 "auto import"
```

推荐配置

```yaml
# 自动导入配置
Java/Kotlin:
  - ☑️ Add unambiguous imports on the fly (实时添加明确的导入)
  - ☑️ Optimize imports on the fly (实时优化导入)
  - Show import popup: ✔️ When auto-import is possible
  - Insert imports for inner classes: ☑️ Always
  - Exclude from Import and Completion: (配置排除项)
  
优化选项：
  - ☑️ Optimize imports on the fly
  - ☑️ Automatically import classes in the current file
```

排除特定包的自动导入

```yaml
# 避免自动导入冲突的包
例如：
- java.awt.*
- sun.*
```

5. 快捷键自定义（如果需要）

自定义导入快捷键

```yaml
# 路径：Preferences → Keymap
# 搜索以下操作自定义快捷键：

1. "Show Intention Actions" - 当前: Option + Enter
   可以改为: Option + Return

2. "Optimize Imports" - 当前: ⌘ + Option + O
   可以改为: ⌃ + ⌥ + O

3. "Auto-import" - 搜索相关操作

4. "Import Class" - 可以直接设置快捷键
```

创建自定义快捷键方案

```xml
<!-- 自定义 Keymap 文件 -->
<keymap version="1" name="Custom Mac">
    <!-- 导入相关快捷键 -->
    <action id="ShowIntentionActions">
        <keyboard-shortcut first-keystroke="option return" />
    </action>
    <action id="OptimizeImports">
        <keyboard-shortcut first-keystroke="control alt o" />
    </action>
</keymap>
```

6. 实用技巧和窍门

技巧 1：快速导入整个包

```kotlin
// 想要导入 java.util 包下的多个类
// 输入时使用通配符
import java.util.*

// 然后按 ⌘ + Option + O 优化导入
// IDEA 会自动展开为具体类名
```

技巧 2：解决导入冲突

```kotlin
// 当有多个同名类时
val date = Date()  // 有 java.util.Date 和 java.sql.Date

// Option + Enter 会显示：
// "Import class 'java.util.Date'"
// "Import class 'java.sql.Date'"
// "Import class and rename..."
```

技巧 3：导入时重命名

```kotlin
// 避免名称冲突
val jodaDate = DateTime()  // org.joda.time.DateTime

// Option + Enter → "Import class with alias..."
// 可以重命名为：import org.joda.time.DateTime as JodaDateTime
```

7. Kotlin 特有导入功能

Kotlin 扩展函数导入

```kotlin
// Kotlin 扩展函数的特殊导入
"hello".toUpperCase()

// 如果未导入，Option + Enter 会显示：
// "Import extension function 'kotlin.text.toUpperCase'"
```

顶层函数导入

```kotlin
// 导入顶层函数
println("Hello")

// Option + Enter → "Import function 'kotlin.io.println'"
```

8. 查看导入的包来自哪里

快捷键查看导入来源

```kotlin
// 查看已导入类的来源
import org.springframework.stereotype.Service

// 光标放在 Service 上
// 快捷键：⌘ + B (跳转到声明)
// 或：⌘ + 点击类名
```

查找类在哪些文件被导入

```kotlin
// 查找某个类被哪些文件导入
// 光标放在类名上
// Option + F7 (查找使用处)
// 选择 "Find Usages in Project"
```

9. 导入相关的设置优化

设置导入分组和排序

```yaml
# 路径：Preferences → Editor → Code Style → Java → Imports
# 或：Preferences → Editor → Code Style → Kotlin → Imports

推荐配置：
- Class count to use import with '*': 99 (尽量不用通配符)
- Names count to use static import with '*': 99
- Import Layout:
  1. import all other imports
  2. <blank line>
  3. import java.*
  4. import javax.*
  5. import kotlin.*
  6. import org.*
  7. import com.*
```

10. 插件增强导入功能

推荐插件

```yaml
1. "Add to Imports" - 快速添加导入
2. "Auto filling Java call arguments" - 自动填充参数时导入
3. "GenerateAllSetter" - 生成setter时自动导入类型
```

11. 常见问题解决

问题 1：Option+Enter 没反应

```bash
# 检查：
1. 确保光标在需要导入的类名上
2. 检查 Keymap 设置：⌘ + , → Keymap → 搜索 "Show Intention Actions"
3. 检查 macOS 的快捷键冲突（输入法切换等）
```

问题 2：无法自动导入

```yaml
# 解决方法：
1. 检查设置：⌘ + , → Editor → General → Auto Import
   - 确保勾选 "Add unambiguous imports on the fly"
2. 检查项目依赖是否配置正确
3. 重启 IDEA 索引：File → Invalidate Caches and Restart
```

问题 3：导入错误的包

```kotlin
// 如果导入了错误的包
import java.sql.Date  // 但需要 java.util.Date

// 解决方法：
1. 删除错误导入：⌘ + Delete
2. 重新输入，使用 Option + Enter 选择正确的
3. 或使用：⌘ + Option + O 重新优化
```

12. 记忆口诀

```kotlin
// 记住这几个核心快捷键：

"红波浪，按 Option+Enter"  // 解决编译错误
"乱导入，按 ⌘+Option+O"   // 整理导入
"想补全，按 Control+Space" // 自动补全和导入
"有冲突，按 Option+Enter选" // 解决导入冲突
```

13. 练习示例

```kotlin
// 练习代码，尝试不同导入方式
fun testImport() {
    // 1. 尝试输入 ArrayList
    val list = ArrayList<String>()
    
    // 2. 尝试输入 LocalDateTime
    val now = LocalDateTime.now()
    
    // 3. 尝试导入静态方法
    assertThat(list).isNotEmpty()
}
```

14. 总结最佳实践

1. 首选 Option + Enter - 解决具体的导入问题
2. 定期 ⌘ + Option + O - 保持导入整洁
3. 开启自动导入 - 减少手动操作
4. 配置导入分组 - 提高代码可读性
5. 学习使用补全 - Control + Space 自动导入

记住：Option + Enter 是你在 IntelliJ IDEA 中最常用的快捷键之一，不仅是导入，还能解决各种代码问题。